(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{265:function(e,t,a){var r={"./100_1.jpg":502,"./101_1.jpg":503,"./10412368723880252_1.jpg":504,"./10547961582846888_1.jpg":505,"./10686354557628304_1.jpg":506,"./11033926921508488_1.jpg":507,"./11600983276356164_1.jpg":508,"./11854078013954528_1.jpg":509,"./12064273040195392_1.jpg":510,"./18532669286405344_1.jpg":511,"./18644119330491310_1.jpg":512,"./27250082398145996_1.jpg":513,"./39876704341265610_1.jpg":514,"./51498472915966370_1.jpg":515,"./5619496040738316_1.jpg":516,"./6090484789343891_1.jpg":517,"./8552515751438644_1.jpg":518,"./876661122392077_1.jpg":519,"./9197907543445676_1.jpg":520};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=265},316:function(e,t,a){e.exports=a(604)},383:function(e,t){},474:function(e,t,a){},475:function(e,t,a){},502:function(e,t,a){e.exports=a.p+"static/media/100_1.b5714b6a.jpg"},503:function(e,t,a){e.exports=a.p+"static/media/101_1.b618b5fc.jpg"},504:function(e,t,a){e.exports=a.p+"static/media/10412368723880252_1.2e62289b.jpg"},505:function(e,t,a){e.exports=a.p+"static/media/10547961582846888_1.54fbf816.jpg"},506:function(e,t,a){e.exports=a.p+"static/media/10686354557628304_1.0d941b4c.jpg"},507:function(e,t,a){e.exports=a.p+"static/media/11033926921508488_1.84c82a5a.jpg"},508:function(e,t,a){e.exports=a.p+"static/media/11600983276356164_1.06ec2c62.jpg"},509:function(e,t,a){e.exports=a.p+"static/media/11854078013954528_1.7faf6a31.jpg"},510:function(e,t,a){e.exports=a.p+"static/media/12064273040195392_1.2995d79a.jpg"},511:function(e,t,a){e.exports=a.p+"static/media/18532669286405344_1.d78e2790.jpg"},512:function(e,t,a){e.exports=a.p+"static/media/18644119330491310_1.75f51cec.jpg"},513:function(e,t,a){e.exports=a.p+"static/media/27250082398145996_1.4c799bac.jpg"},514:function(e,t,a){e.exports=a.p+"static/media/39876704341265610_1.a313534c.jpg"},515:function(e,t,a){e.exports=a.p+"static/media/51498472915966370_1.df947f14.jpg"},516:function(e,t,a){e.exports=a.p+"static/media/5619496040738316_1.843a4713.jpg"},517:function(e,t,a){e.exports=a.p+"static/media/6090484789343891_1.45a051e0.jpg"},518:function(e,t,a){e.exports=a.p+"static/media/8552515751438644_1.87b5353e.jpg"},519:function(e,t,a){e.exports=a.p+"static/media/876661122392077_1.df97d7c2.jpg"},520:function(e,t,a){e.exports=a.p+"static/media/9197907543445676_1.59b64365.jpg"},547:function(e,t,a){},548:function(e,t,a){},604:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(27),o=a.n(c),u=a(28),i=a(29),s=a(31),l=a(30),p=(a(474),a(611)),d=a(615),m=a(612),f=a(122),g=(a(475),function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).addToCart=function(t,a){var r=e.props.dispatch;r({type:"cart/addToCart",payload:{currentItem:t,currentSize:a}}),r({type:"cart/setStorage"})},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props.data;return n.a.createElement("div",{className:"card"},n.a.createElement(p.a,{hoverable:!0,style:{width:240},cover:n.a.createElement("img",{alt:"",src:a(265)("./".concat(t.sku,"_1.jpg"))})},n.a.createElement("div",{className:"title"},n.a.createElement("h4",null,t.title)),n.a.createElement("hr",{className:"hrColor"}),n.a.createElement("h2",null,"$",t.price.toFixed(2)),n.a.createElement("p",null," or ",t.installments," x ",(t.price/t.installments).toFixed(2)),n.a.createElement(d.a,{title:"select the size",trigger:"click",content:n.a.createElement(m.b,{size:"large",dataSource:t.availableSizes,renderItem:function(a){return n.a.createElement(m.b.Item,null,n.a.createElement(f.a,{type:"link",key:t.id+a,onClick:function(){return e.addToCart(t,a)},block:!0},a))}})},n.a.createElement(f.a,{type:"primary"},"Add To Cart"))))}}]),r}(n.a.Component)),v=Object(c.connect)((function(e){return{cartData:e.cart.cartData}}))(g),h=(a(547),function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"products/initialData"})}},{key:"render",value:function(){var e=this.props.products,t=(0===e.sortData.length?e.resData:e.sortData).map((function(e){return n.a.createElement(v,{data:e,key:e.id})}));return n.a.createElement("div",null,n.a.createElement("div",{className:"productList"},t))}}]),a}(n.a.Component)),y=Object(c.connect)((function(e){return e}))(h),j=a(614),b=a(302),S=a(616),E=a(613),O=a(98),x=a(38),P=a(99),w=a(619),k=a(617),_=a(618),C=(a(548),function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(u.a)(this,r),(e=t.call(this)).showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e.changeNumAdd=function(t,a){var r=e.props.dispatch;r({type:"cart/changeNumAdd",payload:{cartProductId:t,cartProductSize:a}}),r({type:"cart/setStorage"})},e.changeNumCut=function(t,a){var r=e.props.dispatch;r({type:"cart/changeNumCut",payload:{cartProductId:t,cartProductSize:a}}),r({type:"cart/setStorage"})},e.removeProduct=function(t,a){var r=e.props.dispatch;r({type:"cart/removeProduct",payload:{cartProductId:t,cartProductSize:a}}),r({type:"cart/setStorage"})},e.checkout=function(t){var a=e.props.dispatch;e.setState({loading:!0}),setTimeout((function(){a({type:"cart/checkout",payload:{payload:{checkProduct:t}}}),a({type:"cart/setStorage"}),e.setState({loading:!1,visible:!1}),j.a.success({content:"payment successful",okText:"Buy Again"})}),1e3)},e.state={visible:!1,loading:!1},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"cart/getStorage"}),this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,r=t.visible,c=t.loading,o=this.props.cart,u=n.a.createElement("div",null,n.a.createElement("div",{className:"foot"},n.a.createElement("h3",null,"SUBTOTAL"),n.a.createElement("p",{style:{color:"red",fontSize:"18px"}},"$ ",o.sunPrice?o.sunPrice.toFixed(2):"")),n.a.createElement(b.a,{spinning:c,delay:100},n.a.createElement(f.a,{type:"link",onClick:function(){return e.checkout(o.cartData)},disabled:0===o.cartData.length||!0===c||"",style:{padding:0,fontSize:"22px",width:"100%",textAlign:"center",background:"#ffccc7",height:"40px"}},"\u53bb\u7ed3\u7b97")));return n.a.createElement(n.a.Fragment,null,n.a.createElement(S.a,{count:o.numProduct},n.a.createElement(f.a,{type:"primary",onClick:this.showDrawer,size:"large",icon:n.a.createElement(w.a,null)},"Your cart")),n.a.createElement(E.a,{title:"Your cart",placement:"right",onClose:this.onClose,visible:r,width:520,footer:u,footerStyle:{background:"#fff1f0",padding:"20px"}},0!==o.cartData.length?o.cartData.map((function(t){return n.a.createElement(p.a,{key:t.id+t.size},n.a.createElement(O.a,null,n.a.createElement(x.a,{span:6},n.a.createElement("img",{alt:"",src:a(265)("./".concat(t.sku,"_1.jpg")),className:"img"})),n.a.createElement(x.a,{span:10},n.a.createElement("div",{className:"clo2"},n.a.createElement("h4",null,t.title),n.a.createElement("p",null," ",t.size,"  ",t.style," "),n.a.createElement(f.a,{type:"link",onClick:function(){return e.removeProduct(t.id,t.size)},style:{padding:0}},"remove"))),n.a.createElement(x.a,{span:5},n.a.createElement("div",{className:"numbtn"},n.a.createElement(f.a,{type:"link",onClick:function(){return e.changeNumCut(t.id,t.size)},icon:n.a.createElement(k.a,null)}),n.a.createElement("div",{style:{alignItems:"center"}}," ",t.num," "),n.a.createElement(f.a,{type:"link",onClick:function(){return e.changeNumAdd(t.id,t.size)},icon:n.a.createElement(_.a,null)}))),n.a.createElement(x.a,{span:3},n.a.createElement("h4",{style:{marginTop:5,color:"red"}},t.currencyFormat,t.productPrice?t.productPrice.toFixed(2):t.price.toFixed(2)))))})):n.a.createElement(P.a,null)))}}]),r}(n.a.Component)),D=Object(c.connect)((function(e){return e}))(C),N=a(610),z=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={value:""},e.onChange=function(t){e.setState({value:t.target.value}),(0,e.props.dispatch)({type:"products/selectSize",payload:{checkedSizes:t.target.value}})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.value;return n.a.createElement("div",null,"\u5c3a\u7801\u9009\u62e9\uff1a",n.a.createElement(N.default.Group,{options:[{label:"XS",value:"XS"},{label:"S",value:"S"},{label:"M",value:"M"},{label:"ML",value:"ML"},{label:"L",value:"L"},{label:"XL",value:"XL"},{label:"XXL",value:"XXL"}],onChange:this.onChange,value:e}),n.a.createElement("br",null),n.a.createElement("br",null))}}]),a}(n.a.Component),L=Object(c.connect)((function(e){return e}))(z),A=a(124),I=A.a.Option,J=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(u.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t){var a=e.props.dispatch;console.log("value-----",t.value),a({type:"products/priceSort",payload:{sort:t.value}})},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,"\u4ef7\u683c\u6392\u5e8f\uff1a",n.a.createElement(A.a,{labelInValue:!0,defaultValue:{value:"complex"},style:{width:120},onChange:this.handleChange},n.a.createElement(I,{value:"complex"},"\u7efc\u5408\u6392\u5e8f"),n.a.createElement(I,{value:"ASC"},"\u4ef7\u683c\u5347\u5e8f"),n.a.createElement(I,{value:"DESC"},"\u4ef7\u683c\u964d\u5e8f")),",")}}]),a}(n.a.Component),T=Object(c.connect)((function(e){return e}))(J),F=(a(586),function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"product"},n.a.createElement("div",{className:"filter"},n.a.createElement(L,null),n.a.createElement(T,null)),n.a.createElement(y,null)),n.a.createElement("div",{className:"cartLayout"},n.a.createElement(D,null))))}}]),a}(n.a.Component)),X=a(9),M=a(10),U=a.n(M),B={namespace:"cart",state:{sunPrice:0,numProduct:0,cartData:[],sizeList:[]},effects:{addToCart:U.a.mark((function e(t,a){var r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,e.next=4,n({type:"CartList",payload:r});case 4:case"end":return e.stop()}}),e)})),setStorage:U.a.mark((function e(t,a){var r,n,c,o,u,i,s,l,p,d;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.select,n=a.put,e.next=3,r((function(e){return e}));case 3:return c=e.sent,o=c.cart,u=o.cartData,i=o.sunPrice,s=o.numProduct,l=JSON.stringify(u),p=JSON.stringify(i),d=JSON.stringify(s),window.localStorage.setItem("cart",l),window.localStorage.setItem("_sunPrice",p),window.localStorage.setItem("_numProduct",d),e.next=13,n({type:"SetStorage",payload:{data:JSON.parse(window.localStorage.cart),_sunPrice:JSON.parse(window.localStorage._sunPrice),_numProduct:JSON.parse(window.localStorage._numProduct)}});case 13:case"end":return e.stop()}}),e)})),getStorage:U.a.mark((function e(t,a){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=a.put,e.next=4,r({type:"SetStorage",payload:{data:window.localStorage.cart?JSON.parse(window.localStorage.cart):[],_sunPrice:window.localStorage._sunPrice?JSON.parse(window.localStorage._sunPrice):"",_numProduct:window.localStorage._numProduct?JSON.parse(window.localStorage._numProduct):""}});case 4:case"end":return e.stop()}}),e)})),changeNumAdd:U.a.mark((function e(t,a){var r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,e.next=4,n({type:"NumAdd",payload:r});case 4:case"end":return e.stop()}}),e)})),changeNumCut:U.a.mark((function e(t,a){var r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,e.next=4,n({type:"NumCut",payload:r});case 4:case"end":return e.stop()}}),e)})),removeProduct:U.a.mark((function e(t,a){var r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,e.next=4,n({type:"removePro",payload:r});case 4:case"end":return e.stop()}}),e)})),checkout:U.a.mark((function e(t,a){var r,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.put,e.next=4,n({type:"cartCheckout",payload:r});case 4:case"end":return e.stop()}}),e)}))},reducers:{CartList:function(e,t){var a=t.payload,r=a.currentItem,n=a.currentSize,c=e.cartData,o=0,u=0,i=0;return c.forEach((function(e){e.id===r.id&&e.size===n?(e.num+=1,e.productPrice=e.num*e.price):o++,u+=e.num})),c.length===o&&(c.push(Object(X.a)(Object(X.a)({},r),{},{size:n,num:1})),u+=1),c.forEach((function(e){i+=e.price*e.num})),Object(X.a)(Object(X.a)({},e),{},{cartData:c,sunPrice:i,numProduct:u})},SetStorage:function(e,t){var a=t.payload,r=a.data,n=a._sunPrice,c=a._numProduct;return Object(X.a)(Object(X.a)({},e),{},{cartData:r,sunPrice:n,numProduct:c})},NumAdd:function(e,t){var a=t.payload,r=a.cartProductId,n=a.cartProductSize;console.log("==NumAdd==",r,n);var c=e.cartData,o=0,u=0;return c.forEach((function(e){e.id===r&&e.size===n&&(e.num++,e.productPrice=e.num*e.price),o+=e.num})),c.forEach((function(e){u+=e.price*e.num})),Object(X.a)(Object(X.a)({},e),{},{cartData:c,sunPrice:u,numProduct:o})},NumCut:function(e,t){var a=t.payload,r=a.cartProductId,n=a.cartProductSize;console.log("==NumCut==",r,n);var c=e.cartData,o=0,u=0;return console.log("==cartData==",c.size,n),c.forEach((function(e){e.id===r&&e.size===n&&(e.num--,e.productPrice=e.num*e.price),0===e.num&&(e.num=0,c.splice(c.findIndex((function(e){return e.id===r&&e.size===n})),1)),o+=e.num})),c.forEach((function(e){u+=e.price*e.num})),Object(X.a)(Object(X.a)({},e),{},{cartData:c,sunPrice:u,numProduct:o})},removePro:function(e,t){var a=t.payload,r=a.cartProductId,n=a.cartProductSize,c=e.cartData,o=0,u=0;return c.forEach((function(e){e.id===r&&e.size===n&&(e.num=0,c.splice(c.findIndex((function(e){return e.id===r})),1)),o+=e.num})),c.forEach((function(e){u+=e.price*e.num})),Object(X.a)(Object(X.a)({},e),{},{cartData:c,sunPrice:u,numProduct:o})},cartCheckout:function(e,t){t.payload.checkProduct;return Object(X.a)(Object(X.a)({},e),{},{cartData:[],sunPrice:"",numProduct:""})}}},V=o()();V.model(a(606).default),V.model(B),V.router((function(){return n.a.createElement(F,null)})),V.start("#root")},606:function(e,t,a){"use strict";a.r(t);var r=a(210),n=a(9),c=a(10),o=a.n(c),u=a(310),i=a.n(u),s=function(){return i.a.get("./products.json")};t.default={namespace:"products",state:{resData:[],sortData:[]},effects:{initialData:o.a.mark((function e(t,a){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,e.prev=2,e.next=5,r(s);case 5:return c=e.sent,e.next=8,n({type:"setProducts",payload:c.data.products});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),selectSize:o.a.mark((function e(t,a){var r,n,c,u,i,s,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.select,c=a.put,e.next=4,n((function(e){return e}));case 4:return u=e.sent,i=u.products.resData,s=i,l=r.checkedSizes,p=[],l&&s.forEach((function(e){-1!==e.availableSizes.indexOf(l)&&p.push(e)})),e.next=12,c({type:"SelectSize",payload:{checkedSizesList:p}});case 12:case"end":return e.stop()}}),e)})),priceSort:o.a.mark((function e(t,a){var r,n,c,u,i,s,l,p,d,m,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=a.select,c=a.put,e.next=4,n((function(e){return e}));case 4:return u=e.sent,i=u.products.resData,s=u.products.sortData,l=i,p=s,d=r.sort,m=[],f=[],"complex"===d&&(m=l.sort((function(e,t){return e.id-t.id})),f=p.sort((function(e,t){return e.id-t.id}))),"ASC"===d&&(m=l.sort((function(e,t){return e.price-t.price})),f=p.sort((function(e,t){return e.price-t.price}))),"DESC"===d&&(m=l.sort((function(e,t){return t.price-e.price})),f=p.sort((function(e,t){return t.price-e.price}))),e.next=17,c({type:"PriceSort",payload:{resSortList:m,sortSortList:f}});case 17:case"end":return e.stop()}}),e)}))},reducers:{setProducts:function(e,t){var a=t.payload;return Object(n.a)(Object(n.a)({},e),{},{resData:a})},SelectSize:function(e,t){var a=t.payload.checkedSizesList;return Object(n.a)(Object(n.a)({},e),{},{sortData:a})},PriceSort:function(e,t){var a=t.payload,c=a.resSortList,o=a.sortSortList;return Object(n.a)(Object(n.a)({},e),{},{resData:Object(r.a)(c),sortData:Object(r.a)(o)})}}}}},[[316,1,2]]]);
//# sourceMappingURL=main.d5ce4724.chunk.js.map